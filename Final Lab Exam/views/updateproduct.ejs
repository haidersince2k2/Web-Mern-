<h1 class="centersh">Update <span class="train">Product</span></h1>
<div class="containersign">
  <form action="/update/<%=product.producttype %>/<%= product.id %>" id="myform" method="post" enctype="multipart/form-data">
    <% if (product.imageData) { %>
      <div class="elements center stitched" >
        <img src="data:image/jpeg;base64,<%= product.imageData.toString('base64') %>" alt="Product Image" >
      </div>
    <% } %>
    <div class="elements">
      <label for="title">Title: </label>
      <input type="text" name="title" id="title" value="<%= product.title || '' %>" />
    </div>
    <div class="elements">
      <label for="price">Price:</label>
      <input type="text" name="price" id="price" value="<%= product.price || '' %>" />
    </div>
    
    <div class="elements">
      <label for="image">Image:</label>
      <input type="file" name="image" id="image" accept="image/*">
    </div>
    <div class="signb">
      <button type="submit">Submit</button>
    </div>
  </form>
</div>
<div class="vl"></div>

<script>
  const productId = "<%= product.id %>"; // Assuming you have the product ID available
  const form = document.getElementById('myform');

  form.addEventListener('submit', function (event) {
    // Update the form action based on the product ID
    form.action = `/update/<%=product.producttype %>/${productId}`;
  });
</script>
